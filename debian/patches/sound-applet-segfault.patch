From f8347d6b02f87e0f99980deea42eab305bce271a Mon Sep 17 00:00:00 2001
From: Lars Mueller <cobinja@yahoo.de>
Date: Sat, 28 Jan 2017 22:45:15 +0100
Subject: [PATCH] [Sound applet] Fix a segmentation This fixes a segmentation
 fault that happened when menu animations were disabled. Fixes #5977

---
 files/usr/share/cinnamon/applets/sound@cinnamon.org/applet.js | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

Index: cinnamon/files/usr/share/cinnamon/applets/sound@cinnamon.org/applet.js
===================================================================
--- cinnamon.orig/files/usr/share/cinnamon/applets/sound@cinnamon.org/applet.js	2017-05-19 12:48:00.522159209 +0200
+++ cinnamon/files/usr/share/cinnamon/applets/sound@cinnamon.org/applet.js	2017-05-19 12:48:00.518159097 +0200
@@ -814,14 +814,12 @@
         this.addActor(this.label);
         this._icon = app.create_icon_texture(ICON_SIZE);
         this.addActor(this._icon, { expand: false });
+        this.connect("activate", Lang.bind(this, this._onActivate));
     },
 
-    activate: function (event) {
-        this._menu.actor.hide();
+    _onActivate: function(actor, event, keepMenu) {
         this._app.activate_full(-1, event.get_time());
-        return true;
     }
-
 };
 
 function MyApplet(metadata, orientation, panel_height, instanceId) {
