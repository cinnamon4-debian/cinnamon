From: Maximiliano Curia <maxy@gnuservers.com.ar>
Date: Thu, 23 Aug 2018 10:00:32 +0200
Subject: Replace gvfs-bin calls with gio-tool

Closes: 877738
Thanks: Simon McVittie for the follow up
---
 files/usr/share/cinnamon/applets/menu@cinnamon.org/applet.js |    2 +-
 js/ui/messageTray.js                                         |    2 +-
 js/ui/search.js                                              |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

--- cinnamon.git.orig/files/usr/share/cinnamon/applets/menu@cinnamon.org/applet.js
+++ cinnamon.git/files/usr/share/cinnamon/applets/menu@cinnamon.org/applet.js
@@ -366,7 +366,7 @@ class TransientButton extends PopupMenu.
         } else {
             // Try anyway, even though we probably shouldn't.
             try {
-                Util.spawn(['gvfs-open', this.file.get_uri()]);
+                Util.spawn(['gio', 'open', this.file.get_uri()]);
             } catch (e) {
                 global.logError("No handler available to open " + this.file.get_uri());
             }
--- cinnamon.git.orig/js/ui/messageTray.js
+++ cinnamon.git/js/ui/messageTray.js
@@ -138,7 +138,7 @@ URLHighlighter.prototype = {
                     return true;
                 } catch (e) {
                     // TODO: remove this after gnome 3 release
-                    Util.spawn(['gvfs-open', url]);
+                    Util.spawn(['gio', 'open', url]);
                     return true;
                 }
             }
--- cinnamon.git.orig/js/ui/search.js
+++ cinnamon.git/js/ui/search.js
@@ -298,7 +298,7 @@ OpenSearchSystem.prototype = {
         } catch (e) {
             // TODO: remove this after glib will be removed from moduleset
             // In the default build gio is in our prefix but gvfs is not
-            Util.spawn(['gvfs-open', url])
+            Util.spawn(['gio', 'open', url])
         }
 
         Main.overview.hide();
