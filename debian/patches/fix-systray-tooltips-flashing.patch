Description: Fix for systray tooltips flashing
Author: Gwendal Le Bihan <gwendal.lebihan.dev@gmail.com>
Origin: upstream, https://github.com/linuxmint/Cinnamon/commit/3fb0cc8b5d649
Applied-Upstream: yes
Last-Update: 2012-08-16

---
 js/ui/layout.js |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/js/ui/layout.js b/js/ui/layout.js
index 14cd6b7..f6eaf7a 100644
--- a/js/ui/layout.js
+++ b/js/ui/layout.js
@@ -1138,7 +1138,15 @@ Chrome.prototype = {
             struts.push(strut);
         }
 
-        if (global.top_window_group.get_children().length == 0)
+        let enable_stage = true;
+        let top_windows = global.top_window_group.get_children();
+        for (var i in top_windows){
+            if (top_windows[i]._windowType != Meta.WindowType.TOOLTIP){
+                enable_stage = false;
+                break;
+            }
+        }
+        if (enable_stage)
             global.set_stage_input_region(rects);
         else
             global.set_stage_input_region([]);
-- 
1.7.10.4

